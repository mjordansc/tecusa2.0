(()=>{var a=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports);var C=a((Y,p)=>{var A="WooCommerce-Multicurrency-Selector",W=()=>typeof woomc=="object"&&woomc.console_log==="Y",u=e=>`[${A}] ${e}`,d=e=>{let o=new Error().stack.split(`
`);return o.shift(),{level:e,timestamp:new Date().toLocaleString(),url:window.location.href,trace:o}},l=(e,o)=>{if(W())switch(o){case"DEBUG":console.debug(u(e),d(o));break;case"ERROR":console.error(u(e),d(o));break;case"INFO":console.info(u(e),d(o));break;case"LOG":console.log(u(e),d(o));break;case"WARN":console.warn(u(e),d(o));break;default:}},v=e=>l(e,"DEBUG"),D=e=>l(e,"ERROR"),N=e=>l(e,"INFO"),R=e=>l(e,"LOG"),I=e=>l(e,"WARN");p.exports={debug:v,error:D,info:N,log:R,warn:I}});var b=a((H,g)=>{var x=()=>{window.woomc.oWooMCReloadedCookie.set("1");let e=document.createElement("form");e.method="post",e.action=window.woomc.currentURL,document.body.appendChild(e),e.submit()};g.exports={reload:x}});var h=a((J,_)=>{var E=b(),U=function(e){let t=document.body,r=new Event("wc_fragment_refresh"),{woomc:n}=window,{oWooMCCurrencyCookie:s}=n;s.set(e),t.dispatchEvent(r);let i=setTimeout(E.reload,2e3);"jQuery"in window&&window.jQuery(document.body).on("wc_fragments_refreshed",function(){clearTimeout(i),E.reload()})};_.exports={change:U}});var S=a((K,O)=>{var F=e=>{function o(t){let r={ANG:"SX",XCG:"SX",XAF:"CF",XCD:"AG",XOF:"SN",XPF:"PF"};t=t.toUpperCase();let n;return r.hasOwnProperty(t)?n=r[t]:n=t.substring(0,2),n}e.widget("custom.iconSelectMenu",e.ui.selectmenu,{_drawButton:function(){let t,r;this._super(),this._parseOption?(t=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex),r=this.buttonItem):(t=this.element.find("option:selected")[0],r=this.button.find(".ui-selectmenu-text"));let n=t.value,s=o(n),i=["currency-flag","currency-flag-"+n.toLowerCase(),"fi","fi-"+s.toLowerCase()];e("<span>",{class:i.join(" ")}).prependTo(r)},_renderMenu:function(t,r){this._super(t,r),e(t).parent().addClass("woocommerce-currency-selector-dropdown")},_renderItem:function(t,r){let n=this._super(t,r),s=n.find("div");s.length||(n.wrapInner(e("<div>")),s=n.find("div")),s.addClass("woocommerce-currency-selector-option");let i=r.value,c=o(i),m=["currency-flag","currency-flag-"+i.toLowerCase(),"fi","fi-"+c.toLowerCase()];return e("<span>",{class:m.join(" ")}).prependTo(s),n},_resizeButton:function(){this._super();let t=this.button.outerWidth();this.button.outerWidth(t+18)}})};O.exports={go:F}});var L=a((Z,M)=>{var j=h(),B=e=>{e(window.woomc_currency_selector.currencySelectorDOM).each(function(){e(this).data("flag")&&e(this).iconSelectMenu({icons:{button:""},change:function(o,t){j.change(t.item.value)}})})};M.exports={go:B}});var T=a(($,k)=>{var G=e=>{typeof e.widget!="function"||typeof e.ui>"u"||(S().go(e),L().go(e),X())},X=()=>{let e=document.createElement("link");e.id="woocommerce-currency-selector-css",e.rel="stylesheet",e.type="text/css",e.href=window.woomc_currency_selector.url.currencySelectorCSS;let o=document.querySelector("head title");o?o.parentNode.insertBefore(e,o.nextSibling):document.head.insertBefore(e,document.head.firstChild)};k.exports={go:G}});var y="ROOT",f=C(),P=h(),Q=T(),q=()=>{let{woomc:e}=window,{oWooMCCurrencyCookie:o,oWooMCReloadedCookie:t,WooMCCookieClass:r}=e;if(typeof o>"u"){f.error("Internal Error|Undefined 'oWooMCCurrencyCookie'");return}if(typeof t>"u"){f.error("Internal Error|Undefined 'oWooMCReloadedCookie'");return}f.debug(`[${y}] Prerequisites met.`),document.querySelectorAll(window.woomc_currency_selector.currencySelectorDOM).forEach(c=>{c.disabled=!1,c.style.opacity="1"}),f.debug(`[${y}] Selector enabled.`);let n=window.woomc_currency_selector.currencySelectorDOM,s=c=>{c.dataset.listenerAttached||(c.addEventListener("change",function(){P.change(this.value)}),c.dataset.listenerAttached="true")};if(document.querySelectorAll(n).forEach(s),document.querySelector(`${n}[data-flag="1"]`))"jQuery"in window&&Q.go(window.jQuery);else{let c=document.querySelector(".widget select.woocommerce-currency-selector");c&&(c.style.width="100%")}new MutationObserver(c=>{c.forEach(m=>{m.addedNodes.forEach(w=>{w.nodeType===Node.ELEMENT_NODE&&[...w.matches(n)?[w]:[],...w.querySelectorAll(n)].forEach(s)})})}).observe(document.body,{childList:!0,subtree:!0}),f.debug(`[${y}] The End.`)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>q()):q();})();
