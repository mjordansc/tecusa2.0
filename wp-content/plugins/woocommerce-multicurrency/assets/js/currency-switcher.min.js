(()=>{try{const e="WooMCCurrencySwitcher";const o=`${e}|Error`;const n=()=>{const{woomc:{oWooMCCurrencyCookie:e}}=window;if(typeof e==="undefined"){console.error(`${o}|Undefined 'oWooMCCurrencyCookie'`);return}const n=2e3;const t=document.body;const r=Array.from(document.getElementsByClassName("woomc-switcher"));const c=new Event("wc_fragment_refresh");for(const o of r){o.addEventListener("submit",r=>{const s=o.querySelector('input[name="currency"]');if(!s){return}const i=s.value;if(!i){return}r.preventDefault();e.set(i);t.dispatchEvent(c);const u=setTimeout(()=>{o.submit()},n);if("jQuery"in window){jQuery(document.body).on("wc_fragments_refreshed",function(){clearTimeout(u);o.submit()})}})}};if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",n)}else{n()}}catch(e){console.error(e)}})();