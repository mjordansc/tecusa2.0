(()=>{var e=class{constructor(){this.WOOMC=window.woomc,this.logger=new this.WOOMC.WooMCJSLog("WOOMC-CacheBuster")}currencyNotAsCached(){let e=this.WOOMC.oWooMCCurrencyCookie.get(),{currency:o}=this.WOOMC;return e!==o&&(this.logger.warn(`Cookies|currencyInCookie=${e}|!=|currencyInPage=${o}`),!0)}reloadPage(){this.WOOMC.oWooMCReloadedCookie.set("1"),this.logger.warn("oWooMCReloadedCookie|set");let e=document.createElement("form");e.method="post";let o=new URL(window.location.href.replaceAll("&amp;","&"));["min_price","max_price","currency"].forEach(e=>o.searchParams.delete(e)),e.action=o.toString(),document.body.appendChild(e),e.submit(),this.logger.warn(`POST Request|submitted|action=${e.action}`)}go(){if(this.logger.debug("START"),this.WOOMC.oWooMCReloadedCookie.isSet()){this.WOOMC.oWooMCReloadedCookie.unset(),this.logger.warn("oWooMCReloadedCookie|unset"),window.history.replaceState&&(window.history.replaceState(null,"",window.location.href),this.logger.warn("window.history|replaced"));return}this.currencyNotAsCached()&&(this.logger.warn("Will reload..."),this.reloadPage()),this.logger.debug("END")}};try{let o="WOOMC-Frontend",r=()=>{let r=`${o}|Error`,{woomc:t}=window;if(void 0===t)return void console.error(`${r}|Undefined 'woomc'`);let{WooMCJSLog:n}=t;if(void 0===n)return void console.error(`${r}|Undefined 'WooMCJSLog'`);let c=new n(o);c.debug("START"),c.info(`woocommerce_default_customer_address|${t.settings.woocommerce_default_customer_address}`),-1!==window.location.search.indexOf("currency=")&&-1===document.referrer.indexOf(`currency=${t.currency}`)&&(document.body.dispatchEvent(new Event("wc_fragment_refresh")),c.warn("Currency switch in URL detected. Refreshed fragments.")),new e().go(),(()=>{if(!document.querySelector('.fi,.woocommerce-currency-selector[data-flag="1"]'))return;let{woomc:e}=window,o=document.createElement("link");o.rel="stylesheet",o.id="woomc-currency-flags-css",o.href=e.url_flags;let r=document.querySelector("title");if(r)r.insertAdjacentElement("afterend",o);else{let e=document.querySelector("head");e&&e.insertBefore(o,e.firstChild)}})(),c.debug("END")},{woomc:{front_libs_ready:t=!1}={}}=window;t?r():document.addEventListener("WOOMC-FrontLibs-Ready",r)}catch(e){console.error(e)}})();