"use strict";!function(t,s){var c=s.wc_pos_params,e=(t(".form-table").on("click","#enable_card",function(e){e.preventDefault();e=t(this).prev("input#wc_pos_user_card_number");e.is(":disabled")&&(""===e.val()||s.confirm("Are you sure you want to change the card number?"))&&e.removeAttr("disabled")}),t(".post-type-pos_register .submitdelete").on("click",function(){if(!s.confirm(c.i18n_confirm_delete_register))return!1}),t('.post-type-pos_register .bulkactions input[type="submit"]').on("click",function(){var e=t('.bulkactions select[name="action"]').val();if(("trash"===e||"delete"===e)&&!s.confirm(c.i18n_confirm_delete_registers))return!1}),t("#wc_pos_signature").change(function(){t(this).is(":checked")?(t("#wc_pos_signature_required").closest("tr").show(),t("#wc_pos_signature_required_on").closest("tr").show()):(t("#wc_pos_signature_required").closest("tr").hide(),t("#wc_pos_signature_required_on").closest("tr").hide())}).change(),t("input#wc_pos_day_end_report").change(function(){t(this).is(":checked")?t("#wc_pos_day_end_emails").closest("tr").show():t("#wc_pos_day_end_emails").closest("tr").hide()}).change(),t("input#wc_pos_enable_currency_rounding").change(function(){t(this).is(":checked")?t("#wc_pos_currency_rounding_value").closest("tr").show():t("#wc_pos_currency_rounding_value").closest("tr").hide()}).change(),t("input#wc_pos_show_out_of_stock_products").change(function(){t(this).is(":checked")?t("#wc_pos_allow_scanning_out_of_stock_products").closest("tr").show():t("#wc_pos_allow_scanning_out_of_stock_products").closest("tr").hide()}).change(),t("input#wc_pos_display_coupons").change(function(){t(this).is(":checked")?t("#wc_pos_list_coupons_roles").closest("tr").show():t("#wc_pos_list_coupons_roles").closest("tr").hide()}).change(),t("input#wc_pos_upca_disable_middle_check_digit").change(function(){t(this).is(":checked")?t("#wc_pos_upca_use_middle_check_digit").closest("tr").show():t("#wc_pos_upca_use_middle_check_digit").closest("tr").hide()}).change(),t("input#wc_pos_disable_status_selection").change(function(){t(this).is(":checked")?(t("#wc_pos_fulfilled_order_alternative_status").closest("tr").hide(),t("#wc_pos_parked_order_alternative_status").closest("tr").hide()):(t("#wc_pos_fulfilled_order_alternative_status").closest("tr").show(),t("#wc_pos_parked_order_alternative_status").closest("tr").show())}).change(),t("input#wc_pos_end_of_day_email_order_table").change(function(){t(this).is(":checked")?t("#wc_pos_end_of_day_email_order_table_columns").closest("tr").show():t("#wc_pos_end_of_day_email_order_table_columns").closest("tr").hide()}).change(),jQuery(document).ready(function(){jQuery(".modal-close").on("click",function(e){e.preventDefault()}),jQuery("#wc_pos_user_card_number").on("keyup change",function(e){e=e.target.value;5<e.length&&jQuery.ajax({url:c.ajax_url,async:!0,type:"POST",data:{action:"wc_pos_check_user_card_uniqueness",security:c.check_user_card_uniqueness_nonce,code:e},success:function(e){jQuery("#wc_pos_user_card_number").closest("td").find(".description").html(e.data),!0===e.success?jQuery("#submit").attr("disabled",!1):jQuery("#submit").attr("disabled",!0)}})})}),t(".tips, .help_tip, .woocommerce-help-tip").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200}),0<t('input[name="products_or_cat"]').length&&(t('input[name="products_or_cat"]').change(function(){"category"==t('input[name="products_or_cat"]:checked').val()?(t("#products_opt_wrap").hide(),t("#category_opt_wrap").show()):(t("#products_opt_wrap").show(),t("#category_opt_wrap").hide())}).trigger("change"),t().select2?t(".category_chosen").css("width","400px").select2():t(".category_chosen").css("width","400px").chosen()),t().select2?(jQuery("select#billing_country").select2(),jQuery("select#shipping_country").select2(),0<jQuery("select#billing_state").length&&jQuery("select#billing_state").select2(),0<jQuery("select#shipping_state").length&&jQuery("select#shipping_state").select2()):(jQuery("select#billing_country").chosen(),jQuery("select#shipping_country").chosen(),0<jQuery("select#billing_state").length&&jQuery("select#billing_state").chosen(),0<jQuery("select#shipping_state").length&&jQuery("select#shipping_state").chosen()),0<t("#wc_pos_tax_calculation").length&&(t(".disabled_select").attr("disabled","disabled"),t("#wc_pos_tax_calculation").change(function(){"disabled"===t(this).val()?t("#wc_pos_calculate_tax_based_on").parent().parent().hide():t("#wc_pos_calculate_tax_based_on").parent().parent().show()}).change()),jQuery("#pos-visibility .edit-pos-visibility").on("click",function(e){e.preventDefault(),jQuery("#pos-visibility #pos-visibility-select").slideDown("fast")}),jQuery("#pos-visibility .save-post-visibility").on("click",function(e){e.preventDefault();e=jQuery('[name="_pos_visibility"]:checked');jQuery("#pos-visibility-display").text(e.data("label")),jQuery("#pos-visibility #pos-visibility-select").slideUp("fast")}),jQuery('.wc-enhanced-select-required-fields option[value="billing_first_name"],.wc-enhanced-select-required-fields option[value="billing_last_name"],.wc-enhanced-select-required-fields option[value="billing_email"]').attr({selected:"selected",disabled:"disabled"}),jQuery(".wc-enhanced-select-with-tags").select2({tags:!0}),jQuery(".wc-enhanced-select-required-fields").select2().on("select2:unselecting",function(e){if(e.params.args.data.disabled)return!1}),jQuery('#wc_pos_search_includes.wc-enhanced-select option[value="title"]').attr({selected:"selected",disabled:"disabled"}),jQuery("#wc_pos_search_includes.wc-enhanced-select").select2().on("select2:unselecting",function(e){if(e.params.args.data.disabled)return!1}),t("#wc_pos_reset_settings").on("click",function(e){s.confirm("This will reset entire POS settings. Please have a backup before doing this")||e.preventDefault()}),t("#wc_pos_customer_create_required_fields")),i=(e.length&&((i=t('<button type="button" class="button reset_fields">Reset</button>')).on("click",function(){e.val(["billing_first_name","billing_last_name","billing_email","billing_country","billing_address_1","billing_city","billing_state","billing_postcode","billing_phone","billing_email"]).change()}),e.parent("td").append(i)),t(".range_slider").on("input",function(){t(this).prev(".range_slider_value").html(t(this).val())}),t("#unit_of_measurement")),i=(t.each(i,function(){var e=t(this).parents("p");t(this).is(":checked")||e.nextAll("p").hide(),t(this).on("change",function(){t(this).is(":checked")?e.nextAll("p").show():e.nextAll("p").hide()})}),t("#wpcontent").on("click",".close_popup, .back_to_sale",function(){t(".overlay_order_popup").hide()}),document.querySelector("body"));new MutationObserver(function(){var e=t("#TB_ajaxContent .TB_actions").hide().clone();e&&!document.querySelector("#TB_window > .TB_actions")&&(e.show(),t("#TB_window").append(e))}).observe(i,{childList:!0})}(jQuery,window,document);